# 修复 GitHub 推送 403 错误

## 问题分析

你遇到了 `403 Permission denied` 错误，可能的原因：
1. Token 权限不足（没有勾选 `repo` 权限）
2. Token 已过期
3. Token 格式错误

## 解决方案

### 方法1：创建新的 Token（推荐）

1. **访问 Token 创建页面**
   https://github.com/settings/tokens/new

2. **填写信息**
   - Note: `shuntai-website-push`
   - Expiration: `90 days` 或 `No expiration`
   - **重要**：勾选 `repo` 权限（勾选后会自动包含所有仓库相关权限）

3. **生成并复制 Token**
   - 点击 "Generate token"
   - 立即复制 Token（格式：`ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`）

4. **使用 Token 推送**

**重要：Token 应该作为密码输入，不是在命令行执行！**

```bash
# 执行推送命令
git push -u origin main

# 当提示用户名时，输入：
hailiandeng07-prog

# 当提示密码时，粘贴刚才复制的 Token（不要直接输入到命令行！）
# 使用 Cmd+V 或右键粘贴
```

### 方法2：使用 Git 凭证存储（避免每次输入）

配置 Git 保存凭证：

```bash
# 配置 Git 使用凭证存储
git config --global credential.helper osxkeychain

# 或者使用 store（密码以明文存储，安全性较低）
# git config --global credential.helper store
```

然后重新推送：

```bash
git push -u origin main
```

输入用户名和 Token 后，下次就不需要再输入了。

### 方法3：在 URL 中嵌入 Token（不推荐，但可行）

```bash
# 删除旧远程仓库
git remote remove origin

# 添加带有 Token 的远程仓库（替换 YOUR_TOKEN）
git remote add origin https://YOUR_TOKEN@github.com/hailiandeng07-prog/shuntai-website.git

# 推送
git push -u origin main
```

⚠️ **注意**：这种方式会将 Token 保存在 Git 配置中，安全性较低。

## 验证 Token 权限

确保新创建的 Token 有以下权限：
- ✅ `repo` - 完整仓库访问权限
  - repo:status
  - repo_deployment
  - public_repo
  - repo:invite
  - security_events

## 完整的操作流程

```bash
# 1. 确保在项目目录
cd "/Users/hailian-test/Desktop/cursor 1.0/建站_260120 0.3"

# 2. 添加新文件（如果有）
git add .

# 3. 提交（如果有新文件）
git commit -m "更新：添加部署检查清单"

# 4. 配置凭证存储（可选，但推荐）
git config --global credential.helper osxkeychain

# 5. 执行推送
git push -u origin main

# 6. 输入用户名：hailiandeng07-prog
# 7. 输入密码：粘贴新创建的 Token
```

## Token 使用注意事项

- ❌ **不要**在终端中直接输入 Token 作为命令
- ✅ **要**在 Git 提示输入密码时粘贴 Token
- ✅ Token 粘贴时不会显示，这是正常的
- ✅ 输入完成后按 Enter

## 如果还是失败

1. 检查 GitHub 仓库是否存在：访问 https://github.com/hailiandeng07-prog/shuntai-website
2. 确认你有该仓库的写入权限
3. 确认 Token 的 `repo` 权限已勾选
4. 尝试创建一个新的 Token
